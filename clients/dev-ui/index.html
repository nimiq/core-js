<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Nimiq Blockchain Cockpit &ndash; Alpha</title>

    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">

    <link href="style.css" rel="stylesheet">
</head>
<body>
<header>
    <span class="name icon-nimiq">nimiq</span>
    <span class="subtitle">Blockchain Cockpit &mdash; Luna</span>
</header>

<script src="../../dist/nimiq.js"></script>

<div id="content">
    <div id="overlay">
        <div class="message">
            Nimiq Blockchain Cockpit is already running in another browser window or tab.
            <br><br>
            <small>Please use only one window/tab at a time.</small>
        </div>
    </div>

    <div class="left">
        <!-- Account Lookup -->
        <div class="info" account-info-ui>
            <div class="info-title">Account Info</div>
            <hr/>

            <div class="input-group">
                <input address-input name="lookupAddr" maxlength="45" size="45">
                <button clear-button>Clear</button>
            </div>
            <hr/>
            <div class="info-block">
                <strong>Address</strong>
                <span address class="address"></span>
            </div>
            <div class="info-block">
                <strong>Account Type</strong>
                <span account-type></span>
            </div>
            <div account-details>
                <div class="info-block">
                    <strong>Balance</strong>
                    <span balance></span>
                </div>
                <div vesting-account-details>
                    <div class="info-block">
                        <strong>Owner</strong>
                        <span vesting-owner class="address"></span>
                    </div>
                    <div class="info-block">
                        <strong>Vesting Start</strong>
                        <span vesting-start></span>
                    </div>
                    <div class="info-block">
                        <strong>Vesting Step Blocks</strong>
                        <span vesting-step-blocks></span>
                    </div>
                    <div class="info-block">
                        <strong>Vesting Step Amount</strong>
                        <span vesting-step-amount></span>
                    </div>
                    <div class="info-block">
                        <strong>Vesting Total Amount</strong>
                        <span vesting-total-amount></span>
                    </div>
                    <div class="info-block">
                        <strong>Vesting Current Cap</strong>
                        <span vesting-current-cap></span>
                    </div>
                    <div class="info-block">
                        <strong>Currently Transferable</strong>
                        <span vesting-currently-transferable></span>
                    </div>
                </div>
                <div htlc-account-details>
                    <div class="info-block">
                        <strong>HTLC Sender</strong>
                        <span htlc-sender class="address"></span>
                    </div>
                    <div class="info-block">
                        <strong>HTLC Recipient</strong>
                        <span htlc-recipient class="address"></span>
                    </div>
                    <div class="info-block">
                        <strong>HTLC Hash Root</strong>
                        <hash htlc-hash-root></hash>
                    </div>
                    <div class="info-block">
                        <strong>HTLC Hash Count</strong>
                        <span htlc-hash-count></span>
                    </div>
                    <div class="info-block">
                        <strong>HTLC Timeout</strong>
                        <span htlc-timeout></span>
                    </div>
                    <div class="info-block">
                        <strong>HTLC Total Amount</strong>
                        <span htlc-total-amount></span>
                    </div>
                </div>
            </div>
            <hr/>
        </div>

        <div class="info" transaction-ui tx-type="basic">
            <div class="info-title">Transaction</div>
            <hr class="morespace"/>
            <form>
                <div class="input-group">
                    <label>
                        <strong>Type</strong>
                        <select tx-type-selector name="tx-type">
                            <option value="basic" selected>Basic</option>
                            <option value="extended">Plain Extended</option>
                            <option value="vesting-creation">Vesting Contract Creation</option>
                            <option value="htlc-creation">HTLC Contract Creation</option>
                        </select>
                    </label>
                </div>
                <div class="input-group" show="basic extended">
                    <label>
                        <strong>Recipient</strong>
                        <input tx-recipient name="tx-recipient" maxlength="45" size="45">
                    </label>
                </div>
                <div class="input-group" show="extended">
                    <label>
                        <strong>Recipient Type</strong>
                        <input tx-recipient-type name="tx-recipient-type" type="number" step="1">
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <strong>Value</strong>
                        <input tx-value name="tx-value" type="number" step="any">
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <strong>Fee</strong>
                        <input tx-fee name="tx-fee" type="number" step="0.01">
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <strong>Validity Start</strong>
                        <input tx-validity-start name="tx-validity-start" type="number" step="1">
                    </label>
                </div>
                <!-- Extended transaction -->
                <div class="input-group" show="extended">
                    <label>
                        <strong>Flags</strong>
                        <input tx-flags name="tx-flags" type="number">
                    </label>
                </div>
                <div class="input-group" show="extended">
                    <label>
                        <strong>Data</strong>
                        <input tx-data name="tx-data" pattern="^[A-Za-z0-9+/]*$">
                    </label>
                </div>
                <div class="input-group" show="extended">
                    <label>
                        <strong>Proof</strong>
                        <input tx-proof name="tx-proof" pattern="^[A-Za-z0-9+/]*$">
                    </label>
                </div>

                <!-- Vesting contract creation -->
                <div class="input-group" show="vesting-creation">
                    <label>
                        <strong>Vesting Owner</strong>
                        <input tx-vesting-owner name="tx-vesting-creation-owner" maxlength="45" size="45">
                    </label>
                </div>
                <div class="input-group" show="vesting-creation">
                    <label>
                        <strong>Vesting Step Blocks</strong>
                        <input tx-vesting-step-blocks name="tx-vesting-step-blocks" type="number" step="1">
                    </label>
                </div>
                <div class="input-group" show="vesting-creation">
                    <label>
                        <strong>Vesting Step Amount</strong>
                        <input tx-vesting-step-amount name="tx-vesting-step-amount" type="number" placeholder="optional">
                    </label>
                </div>
                <div class="input-group" show="vesting-creation">
                    <label>
                        <strong>Vesting Start</strong>
                        <input tx-vesting-start name="tx-vesting-creation-start" type="number" step="1" placeholder="optional">
                    </label>
                </div>
                <div class="input-group" show="vesting-creation">
                    <label>
                        <strong>Vesting Total Amount</strong>
                        <input tx-vesting-total-amount name="tx-vesting-total-amount" type="number" placeholder="optional">
                    </label>
                </div>

                <!-- HTLC creation -->
                <div class="input-group" show="htlc-creation">
                    <label>
                        <strong>HTLC Sender</strong>
                        <input tx-htlc-sender name="tx-htlc-sender" maxlength="45" size="45">
                    </label>
                </div>
                <div class="input-group" show="htlc-creation">
                    <label>
                        <strong>HTLC Recipient</strong>
                        <input tx-htlc-recipient name="tx-htlc-recipient" maxlength="45" size="45">
                    </label>
                </div>
                <div class="input-group" show="htlc-creation">
                    <label>
                        <strong>HTLC Hash Algo</strong>
                        <input tx-htlc-hash-algo name="tx-htlc-hash-algo" type="number">
                    </label>
                </div>
                <div class="input-group" show="htlc-creation">
                    <label>
                        <strong>HTLC Hash Root</strong>
                        <input tx-htlc-hash-root name="tx-htlc-hash-root" pattern="^[A-Za-z0-9+/]*$">
                    </label>
                </div>
                <div class="input-group" show="htlc-creation">
                    <label>
                        <strong>HTLC Hash Count</strong>
                        <input tx-htlc-hash-count name="tx-htlc-hash-count" type="number">
                    </label>
                </div>
                <div class="input-group" show="htlc-creation">
                    <label>
                        <strong>HTLC Timeout</strong>
                        <input tx-htlc-timeout name="tx-htlc-timeout" type="number">
                    </label>
                </div>

                <div class="info-block" show="extended vesting-creation htlc-creation">
                    <strong>Contract</strong>
                    <span contract-address class="address"></span>
                </div>

                <hr class="morespace"/>
                <div class="input-group">
                    <button tx-clear type="button">Clear</button>
                    <button tx-send type="button" disabled>Send</button>
                </div>
                <hr/>
            </form>
        </div>

        <div class="info" hide-nano miner-ui>
            <div class="info-title">Miner</div>
            <hr/>

            <div class="info-block">
                <strong>Working</strong>
                <span working></span>
            </div>
            <div class="info-block">
                <strong>Hashrate</strong>
                <span hashrate></span> H/s
            </div>
            <div class="info-block">
                <strong>Last block mined at</strong>
                <span last-mined-block-timestamp></span>
            </div>
            <div class="input-group">
                <button start-button>Start Mining</button>
            </div>
            <hr/>
        </div>
    </div>

    <div class="right">
        <div blockchain-ui>
            <div class="info">
                <div class="info-title not-connected" title>Blockchain</div>
                <hr/>

                <div class="info-block">
                    <strong>Height</strong>
                    <span chain-height></span>
                </div>
                <div class="info-block" hide-nano>
                    <strong>Work</strong>
                    <span total-difficulty></span> / <span total-work></span>
                </div>
                <div class="info-block">
                    <strong>Block Time</strong>
                    <span average-block-time></span> <small>average</small> /
                    <span last-block-time></span> <small>last</small>
                </div>
                <div class="info-block">
                    <strong>Accounts Hash</strong>
                    <hash chain-accounts-hash></hash>
                </div>
                <hr/>
            </div>

            <div class="info">
                <div class="info-title">Head Block</div>
                <hr/>

                <div class="info-block">
                    <strong>Hash</strong>
                    <hash head-hash></hash>
                </div>
                <div class="info-block">
                    <strong>PoW Hash</strong>
                    <hash head-pow-hash></hash>
                </div>
                <div class="info-block">
                    <strong>Prev Hash</strong>
                    <hash head-prev-hash></hash>
                </div>
                <div class="info-block">
                    <strong>Accounts Hash</strong>
                    <hash head-accounts-hash></hash>
                </div>
                <div class="info-block">
                    <strong>Difficulty</strong>
                    <span head-difficulty></span>
                </div>
                <div class="info-block">
                    <strong>Timestamp</strong>
                    <span head-timestamp></span>
                </div>
                <div class="info-block">
                    <strong>Nonce</strong>
                    <span head-nonce></span>
                </div>
                <div class="info-block">
                    <strong>Interlink</strong>
                    <span head-interlink></span>
                </div>
                <hr/>
            </div>
        </div>

        <div class="info" network-ui>
            <div class="info-title">Network</div>
            <hr/>

            <div class="info-block">
                <strong>Peer address</strong>
                <span peer-address></span>
            </div>
            <div class="info-block">
                <strong>Peers</strong>
                <span peer-count></span>
                &nbsp;
                <small>(<span peer-count-ws></span> WS / <span peer-count-rtc></span> RTC)</small>
            </div>
            <div class="info-block">
                <strong>Received</strong>
                <span bytes-received></span>
            </div>
            <div class="info-block">
                <strong>Sent</strong>
                <span bytes-sent></span>
            </div>
            <hr/>
        </div>
    </div>

    <div class="info" style="clear: left;" mempool-ui>
        <div class="info-title">Mempool</div>
        <hr/>

        <div class="info-block">
            <strong>Transaction Count</strong>
            <span transaction-count></span>
        </div>
        <div class="info-block" transactions></div>
        <hr/>
    </div>
</div>

<script type="text/javascript" src="Utils.js"></script>
<script type="text/javascript" src="BlockchainUi.js"></script>
<script type="text/javascript" src="AccountInfoUi.js"></script>
<script type="text/javascript" src="TransactionUi.js"></script>
<script type="text/javascript" src="MempoolUi.js"></script>
<script type="text/javascript" src="MinerUi.js"></script>
<script type="text/javascript" src="NetworkUi.js"></script>
<script type="text/javascript" src="script.js"></script>
</body>
</html>
